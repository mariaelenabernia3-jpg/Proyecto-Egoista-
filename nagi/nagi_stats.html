<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Estadísticas de Kevin - Blue Lock</title>
    <link rel="stylesheet" href="nagi_stats_style.css">
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&family=Montserrat:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>
<body>
    <div class="header">
        <a href="nagi_dashboard.html" class="back-button"><i class="fas fa-arrow-left"></i> VOLVER</a>
    </div>

    <main class="main-content">
        <div class="player-card">
            <div class="player-image-container">
                <img src="nagi.png" id="stat-img" alt="Kevin" class="player-image">
            </div>
            <div class="player-details">
                <p class="detail-item">Nombre: <span class="detail-value">Kevin</span></p>
                <p class="detail-item">Posición: <span class="detail-value">ED</span></p>
                <p class="detail-item">Media General: <span class="detail-value" id="stat-media">--</span></p>
                
                <div class="match-history-grid">
                    <div class="stat-mini-box">PJ: <span id="stat-pj">0</span></div>
                    <div class="stat-mini-box">PG: <span id="stat-pg">0</span></div>
                    <div class="stat-mini-box">PP: <span id="stat-pp">0</span></div>
                    <div class="stat-mini-box">GOLES: <span id="stat-g" style="color: gold; font-weight: bold;">0</span></div>
                </div>

                <div class="stats-grid" id="skills-grid">
                    <!-- Las habilidades se cargarán aquí -->
                </div>
            </div>
        </div>
    </main>

    <script>
        // DATOS MAESTROS DE EMERGENCIA
        const initialPlayersData = {
            "Rin": { name: "Ernesto", id: "Rin", password: "10", img: "../rin/rin.png", position: "DC", stats: { ritmo: 82, tiro: 90, pase: 85, regate: 88, defensa: 60, fisico: 78, media: 81 }, matchStats: { pj: 3, pg: 2, pp: 1, g: 5 }, xp: 35, level: 0, bid: 60000000 },
            "Nagi": { name: "Kevin", id: "Nagi", password: "7", img: "nagi.png", position: "ED", stats: { ritmo: 60, tiro: 80, pase: 70, regate: 68, defensa: 70, fisico: 60, media: 68 }, matchStats: { pj: 3, pg: 2, pp: 1, g: 3 }, xp: 35, level: 0, bid: 40000000 },
            "Bachira": { name: "Yulien", id: "Bachira", password: "8", img: "../bachira/bachira.png", position: "ED", stats: { ritmo: 84, tiro: 78, pase: 88, regate: 95, defensa: 40, fisico: 60, media: 74 }, matchStats: { pj: 3, pg: 1, pp: 2, g: 3 }, xp: 35, level: 0, bid: 35000000 },
            "Kunigami": { name: "Manuel", id: "Kunigami", password: "9", img: "../kunigami/kunigami.png", position: "DC", stats: { ritmo: 80, tiro: 95, pase: 70, regate: 75, defensa: 65, fisico: 92, media: 78 }, matchStats: { pj: 3, pg: 2, pp: 1, g: 1 }, xp: 15, level: 0, bid: 20000000 },
            "Isagi": { name: "Mauricio", id: "Isagi", password: "11", img: "../isagi/isagi.png", position: "DC", stats: { ritmo: 75, tiro: 82, pase: 80, regate: 72, defensa: 50, fisico: 65, media: 71 }, matchStats: { pj: 3, pg: 1, pp: 2, g: 1 }, xp: 15, level: 0, bid: 15000000 },
            "Gagamaru": { name: "Deadpool", id: "Gagamaru", password: "6", img: "../gagamaru/gagamaru.png", position: "PO", stats: { ritmo: 85, tiro: 70, pase: 60, regate: 65, defensa: 88, fisico: 92, media: 77 }, matchStats: { pj: 3, pg: 1, pp: 2, g: 1 }, xp: 15, level: 0, bid: 15000000 }
        };

        function loadStats() {
            // Si no hay datos, forzar la creación de los iniciales
            if (!localStorage.getItem('blPlayersData')) {
                localStorage.setItem('blPlayersData', JSON.stringify(initialPlayersData));
            }

            const data = JSON.parse(localStorage.getItem('blPlayersData'));
            const me = data["Nagi"];

            // Si el jugador cambió su foto, cargar la personalizada
            if (me.img && me.img.startsWith('data:image')) {
                document.getElementById('stat-img').src = me.img;
            }

            // Cargar textos
            document.getElementById('stat-media').textContent = me.stats.media;
            document.getElementById('stat-pj').textContent = me.matchStats.pj;
            document.getElementById('stat-pg').textContent = me.matchStats.pg;
            document.getElementById('stat-pp').textContent = me.matchStats.pp;
            document.getElementById('stat-g').textContent = me.matchStats.g;

            // Cargar Habilidades
            const skills = [
                {n: 'Ritmo', v: me.stats.ritmo},
                {n: 'Tiro', v: me.stats.tiro},
                {n: 'Pase', v: me.stats.pase},
                {n: 'Regate', v: me.stats.regate},
                {n: 'Defensa', v: me.stats.defensa},
                {n: 'Físico', v: me.stats.fisico}
            ];

            document.getElementById('skills-grid').innerHTML = skills.map(s => `
                <div class="stat-item">
                    <span class="stat-name">${s.n}</span>
                    <span class="stat-value">${s.v}</span>
                </div>
            `).join('');
        }

        document.addEventListener('DOMContentLoaded', loadStats);
    </script>
</body>
</html>